---
/**
 * ðŸš¨ AUTO-GENERATED FILE. DO NOT EDIT.
 * This file is generated by sync-blog.js and will be overwritten.
 * To customize, edit the template.
 */

 // SEO Meta component that integrates with site-config
import OpenGraph from './OpenGraph.astro';
import TwitterCard from './TwitterCard.astro';
import { siteConfig } from '../site-config.ts';
import { getImageType, getValidatedImageUrl } from '../lib/utils.ts';


export interface Props {
    generator?: string; // Generator meta content

    noIndex?: boolean; // Whether to add noindex meta tag
    enhancedIndexing?: boolean; // Whether to add enhanced indexing meta tag

    canonical?: string; // Canonical URL for SEO
    faviconPath?: string; // Custom favicon path
    seo: any; // SEO configuration object

    title?: string; // Optional title override
    description: string; // Meta description
    authorName?: string; // Author name for SEO
    image?: string; // Image URL for SEO
    imageUrl?: string; // Image URL for SEO
    imageCaption?: string; // Image caption for SEO
    imageWidth?: number; // Image width for SEO
    imageHeight?: number; // Image height for SEO

    pubDate?: string; // Publication date for articles
    updatedDate?: string; // Updated date for articles
}

const { 
    generator,
    noIndex,
    enhancedIndexing,

    canonical,
    faviconPath,
    seo,
    
    title, 
    description, 
    authorName,
    image,
    imageUrl,
    imageCaption,
    imageWidth,
    imageHeight,

    pubDate,
    updatedDate,
} = Astro.props;

const imageUrlValidated = getValidatedImageUrl({
    image,
    imageUrl,
    assetsUrlBase: siteConfig.site.assetsUrlBase
});
const imageType = getImageType(imageUrlValidated ?? '');
---


<meta charset="UTF-8" />


<meta name="viewport" content="width=device-width, initial-scale=1.0" />


<link rel="icon" type="image/svg+xml" href={faviconPath} />
<link rel="apple-touch-icon" href="/apple-touch-icon.png" />





{generator && <meta name="generator" content={generator} />}


<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//fonts.gstatic.com" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="preload" href="/assets/logo.webp" as="image" type="image/webp" />


{title && <title>{title}</title>}


<meta name="description" content={description} />
<meta name="author" content={authorName} />

<link rel="canonical" href={canonical} />

{
    siteConfig.verification?.googleSiteVerification && siteConfig.verification.googleSiteVerification.trim() !== '' && (
        <meta
            name="google-site-verification"
            content={siteConfig.verification.googleSiteVerification}
        />
    )
}

{noIndex && <meta name="robots" content="noindex, nofollow" />}

{
    enhancedIndexing && !noIndex && (
        <meta
            name="robots"
            content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
        />
    )
}


<OpenGraph
    title={title}
    description={description}
    url={canonical}
    image={imageUrlValidated}
    imageWidth={imageWidth}
    imageHeight={imageHeight}
    imageType={imageType}
    imageAlt={imageCaption}
    siteName={siteConfig?.site.siteName}
    type={seo.openGraph?.type}
    locale={siteConfig.site.locale.replace('-', '_')}
    author={authorName}

    publishedTime={pubDate}
    modifiedTime={updatedDate}

    section={seo.openGraph?.section}
    tags={seo.openGraph?.tags}
/>


<TwitterCard
    title={seo.title}
    description={seo.description}
    image={imageUrlValidated}
    url={siteConfig.site.canonical}
    site={siteConfig.socialMedia.twitter}
/>


{
    seo.themeColor ? (
        <meta name="theme-color" content={seo.themeColor} />
    ) : siteConfig.site.primaryColor ? (
        <meta name="theme-color" content={siteConfig.site.primaryColor} />
    ) : null
}
