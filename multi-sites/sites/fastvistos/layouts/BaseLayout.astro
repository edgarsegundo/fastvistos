---
import SharedHomeLayout from './SharedHomeLayout.astro';
import Navigation from '../components/Navigation.astro';

export interface Props {
  title?: string;
  description?: string;
  keywords?: string;
  ogImage?: string;
  ogType?: string;
  noindex?: boolean;
  canonicalUrl?: string;
  structuredData?: any;
  bodyClass?: string;
  pageUrl?: string;
}

const {
  title,
  description,
  ogImage,
  noindex = false,
  canonicalUrl,
  structuredData,
  bodyClass = '',
  pageUrl
} = Astro.props;

const currentUrl = canonicalUrl || Astro.url.href;
---

<SharedHomeLayout 
  title={title}
  description={description}
  ogImage={ogImage}
  noIndex={noindex}
  canonical={canonicalUrl}
  pageUrl={pageUrl || currentUrl}
>
  <!-- Additional head content specific to this layout -->
  <Fragment slot="head">
    {structuredData && (
      <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
    )}
  </Fragment>

  <!-- Body content -->
  <body
    class={`leading-normal tracking-normal text-white gradient ${bodyClass} antialiased`}
    style="font-family: 'Source Sans Pro', sans-serif;"
  >
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-59SRNCQD"
        height="0"
        width="0"
        style="display:none;visibility:hidden"
      ></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Navigation -->
    <Navigation />

    <!-- Main content -->
    <main>
      <slot />
    </main>
  </body>
</SharedHomeLayout>
