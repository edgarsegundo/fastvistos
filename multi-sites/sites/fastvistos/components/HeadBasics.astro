---

import { siteConfig } from '../site-config.ts';
import JsonLdGenerator from './JsonLdGenerator.astro';

export interface Props {
    title?: string;           // Optional title override
    faviconPath?: string;     // Custom favicon path
    generator?: string;       // Generator meta content
}

const {
    title,
    faviconPath = "/favicon.svg",
    generator
} = Astro.props;
---


<meta charset="UTF-8" />


<meta name="viewport" content="width=device-width, initial-scale=1.0" />



<link rel="icon" type="image/svg+xml" href={faviconPath} />


<link rel="manifest" href="/manifest.json" />


<script type="module">
    "serviceWorker" in navigator && window.addEventListener("load", () => {
        navigator.serviceWorker.register("/sw.js")
            .then(e => { console.log("SW registered: ", e) })
            .catch(e => { console.log("SW registration failed: ", e) })
    });
</script>


<link rel="sitemap" type="application/xml" href="/sitemap.xml" />



{generator && <meta name="generator" content={generator} />}


<JsonLdGenerator
    pageType="homepage"
    siteOverride={{
        name: siteConfig.name,
        logo: siteConfig.logo,
        description: siteConfig.description,
        url: `https://${siteConfig.domain}`
    }}
    disable={{
        organization: false,
        website: false,
        breadcrumb: true,
        searchAction: true
    }}
/>


<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//fonts.gstatic.com" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="preload" href="/assets/logo.webp" as="image" type="image/webp" />
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'" />
<noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" />
</noscript>


{title && <title>{title}</title>}
