---
/**
 * ðŸš¨ AUTO-GENERATED FILE. DO NOT EDIT.
 * This file is generated by sync-blog.js and will be overwritten.
 * To customize, edit the template.
 */

 // SEO Meta component that integrates with site-config
import OpenGraph from './OpenGraph.astro';
import TwitterCard from './TwitterCard.astro';
import { siteConfig } from '../site-config.ts';
import { getImageType, getValidatedImageUrl } from '../lib/utils.ts';


export interface Props {
    generator?: string; // Generator meta content

    noIndex?: boolean; // Whether to add noindex meta tag
    enhancedIndexing?: boolean; // Whether to add enhanced indexing meta tag

    canonical?: string; // Canonical URL for SEO
    faviconPath?: string; // Custom favicon path
    seo: any; // SEO configuration object

    title?: string; // Optional title override
    description: string; // Meta description
    authorName?: string; // Author name for SEO
    image?: string; // Image URL for SEO
    imageUrl?: string; // Image URL for SEO
    imageCaption?: string; // Image caption for SEO
    imageWidth?: number; // Image width for SEO
    imageHeight?: number; // Image height for SEO

    pubDate?: string; // Publication date for articles
    updatedDate?: string; // Updated date for articles
}

const { 
    generator,
    noIndex,
    enhancedIndexing,

    canonical,
    faviconPath,
    seo,
    
    title, 
    description, 
    authorName,
    image,
    imageUrl,
    imageCaption,
    imageWidth,
    imageHeight,

    pubDate,
    updatedDate,
} = Astro.props;

const imageUrlValidated = getValidatedImageUrl({
    image,
    imageUrl,
    assetsUrlBase: siteConfig.site.assetsUrlBase
});
const imageType = getImageType(imageUrlValidated ?? '');
---

<!-- Character encoding - MUST be first for proper detection -->
<meta charset="UTF-8" />

<!-- Viewport configuration for responsive design -->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href={faviconPath} />
<link rel="apple-touch-icon" href="/apple-touch-icon.png" />

<!--
    Search engines usually discover your sitemap.xml from the robots.txt file,
    thatâ€™s the preferred and most reliable way. No need to include this link,
    leaving it commented out for reference.
-->
<!-- <link rel="sitemap" type="application/xml" href="/sitemap.xml" /> -->

<!-- Generator meta tag -->
{generator && <meta name="generator" content={generator} />}

<!-- Site Speed Optimization: Resource Hints -->
<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//fonts.gstatic.com" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="preload" href="/assets/logo.webp" as="image" type="image/webp" />

<!-- Optional title if provided (for simple pages) -->
{title && <title>{title}</title>}

<!-- Basic SEO -->
<meta name="description" content={description} />
<meta name="author" content={authorName} />

<link rel="canonical" href={canonical} />

{
    siteConfig.verification?.googleSiteVerification && siteConfig.verification.googleSiteVerification.trim() !== '' && (
        <meta
            name="google-site-verification"
            content={siteConfig.verification.googleSiteVerification}
        />
    )
}

{noIndex && <meta name="robots" content="noindex, nofollow" />}
<!-- Enhanced indexing: Enables rich snippets, large image previews, and extended text snippets in search results -->
{
    enhancedIndexing && !noIndex && (
        <meta
            name="robots"
            content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
        />
    )
}

<!-- Open Graph
The <OpenGraph> component generates Open Graph metadata, a standardized set
of tags that tell social networks (Facebook, LinkedIn, Twitter) how to display
your page when shared. It includes title, description, URL, main image, site
name, content type, locale, author, publication time, and tags. This controls
how your content appears on social platforms: without it, shared links may show
generic or poorly formatted previews, reducing click-through and engagement.
Primary use: enhance social sharing, making links visually appealing, informative,
and brand-consistent whenever someone posts your page on social media.
-->
<OpenGraph
    title={title}
    description={description}
    url={canonical}
    image={imageUrlValidated}
    imageWidth={imageWidth}
    imageHeight={imageHeight}
    imageType={imageType}
    imageAlt={imageCaption}
    siteName={siteConfig?.site.siteName}
    type={seo.openGraph?.type}
    locale={siteConfig.site.locale.replace('-', '_')}
    author={authorName}

    publishedTime={pubDate}
    modifiedTime={updatedDate}

    section={seo.openGraph?.section}
    tags={seo.openGraph?.tags}
/>

<!-- Twitter Card -->
<TwitterCard
    title={seo.title}
    description={seo.description}
    image={imageUrlValidated}
    url={siteConfig.site.canonical}
    site={siteConfig.socialMedia.twitter}
/>

<!--
    theme-color meta tag:
    Sets the browser UI color (address bar, tab, etc) on supported browsers and devices.
    Use for branding and to create a more immersive, app-like experience.
    - Parametrize via siteConfig.seo.themeColor for per-site branding.
    - Falls back to siteConfig.primaryColor if not set.
    - Example: <meta name="theme-color" content="#FF6B35" />
-->
{
    seo.themeColor ? (
        <meta name="theme-color" content={seo.themeColor} />
    ) : siteConfig.site.primaryColor ? (
        <meta name="theme-color" content={siteConfig.site.primaryColor} />
    ) : null
}
