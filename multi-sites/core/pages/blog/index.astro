---
/**
 * ðŸš¨ AUTO-GENERATED FILE. DO NOT EDIT.
 * This file is generated by sync-blog.js and will be overwritten.
 * To customize, edit the template.
 */

import SharedBlogLayout from '../../layouts/SharedBlogLayout.astro';
import { siteConfig } from '../../site-config.ts';
import { BlogService } from '../../lib/blog-service.ts';
import JsonLdBlogIndex from '../../components/JsonLdBlogIndex.astro';
import CarouselSection from '../../components/CarouselSection.astro';

const { bodyClass = '', bodyStyle = '' } = Astro.props;

// Fetch blog data using the business-aware blog service
const blogConfigFromDb = await BlogService.getBlogConfigFromDb();

// Create correct breadcrumb structure
const breadcrumbList = [
    {
        name: 'Home',
        item: siteConfig.site.canonical, // This should be "https://fastvistos.com.br/"
    },
    {
        name: 'Blog',
        item: `${siteConfig.site.canonical}blog/`, // This should be "https://fastvistos.com.br/blog/"
    },
];
---

<SharedBlogLayout
    canonicalConf={`${siteConfig.site.canonical}blog/`}
    faviconPathFromConf={siteConfig.site.faviconPath}
    seoFromConf={siteConfig.blogPageConfig.seo}
    titleFromDb={blogConfigFromDb?.title}
    descriptionFromDb={blogConfigFromDb?.description}
    authorNameFromDb={blogConfigFromDb?.author_name}
    imageFromDb={blogConfigFromDb?.image}
    imageUrlFromDb={blogConfigFromDb?.seo_image_url}
    imageCaptionFromDb={blogConfigFromDb?.seo_image_caption}
    imageWidthFromDb={blogConfigFromDb?.seo_image_width}
    imageHeightFromDb={blogConfigFromDb?.seo_image_height}
>
    <!-- Additional head content specific to this layout -->
    <Fragment slot="head">
        <JsonLdBlogIndex
            title={blogConfigFromDb?.title}
            description={blogConfigFromDb?.description}
            image={blogConfigFromDb?.image}
            imageUrl={blogConfigFromDb?.seo_image_url || null}
            imageCaption={blogConfigFromDb?.seo_image_caption || siteConfig.site.title}
            imageHeight={blogConfigFromDb?.seo_image_height || 675}
            imageWidth={blogConfigFromDb?.seo_image_width || 1200}
            breadcrumbList={breadcrumbList}
        />
    </Fragment>

    <!-- H1 -->
    <section class="bg-black py-20 px-4 lg:px-8">
        <div class="mx-auto" style="max-width: 1220px;">
            <div class="">
                <!-- Main Title -->
                <h1 class="text-2xl md:text-4xl font-bold text-white leading-tight">
                    {blogConfigFromDb?.title || ''}
                </h1>

                <!-- Description -->
                <p class="mt-4 text-lg text-gray-300">
                    {blogConfigFromDb?.description || ''}
                </p>

                <!-- Breadcrumb -->
                <div class="mb-2 mt-6">
                    <nav class="text-sm">
                        <ol
                            class="flex items-center text-white font-medium text-xl"
                            style="font-size: 1.03rem;"
                        >
                            <li class="flex items-center">
                                <a href={siteConfig.site.canonical} class="hover:text-gray-300"
                                    >Home</a
                                >
                                <span class="mx-2 text-gray-400">/</span>
                            </li>
                            <li class="">
                                <a href="/blog" class="hover:text-gray-300">Blog</a>
                            </li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Blog Content -->
    <main class="container mx-auto py-10 px-4">
        <CarouselSection />
    </main>
</SharedBlogLayout>

<style is:global>
    @import '/shared.css';
</style>