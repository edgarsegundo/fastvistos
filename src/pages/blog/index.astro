---
import BlogLayout from '../../layouts/BlogLayout.astro';

const allPosts = import.meta.glob('../../content/blog/*.md', { eager: true });
const posts = Object.entries(allPosts).map(([path, post]) => ({
  ...(post as any),
  slug: path.split('/').pop()?.replace('.md', '') || ''
}));
---

<BlogLayout 
    title="Blog - FastVistos | Dicas sobre Vistos Americanos" 
    description="Artigos e dicas sobre como obter vistos americanos, eTA canadense e vistos mexicanos. Guias completos e atualizados."
>

    <!-- H1 -->
    <section class="bg-black py-20 px-4 lg:px-8">
        <div class="mx-auto" style="max-width: 1220px;">
            <div class="">
                <!-- Main Title -->
                <h1 class="text-2xl md:text-4xl font-bold text-white leading-tight">Dicas e Not√≠cias sobre Vistos</h1>
                <!-- Breadcrumb -->
                <div class="mb-2 mt-6">
                    <nav class="text-sm">
                        <ol class="flex items-center text-white font-medium text-xl" style="font-size: 1.03rem;">
                            <li class="flex items-center">
                                <a href="https://fastvistos.com.br" class="hover:text-gray-300">Home</a>
                                <span class="mx-2 text-gray-400">|</span>
                            </li>
                            <li class="">
                                <a href="../blog.html" class="hover:text-gray-300">Blog</a>
                            </li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </section>


    <section class="blog-posts">
        <h2>Latest Posts</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {posts.map((post: any) => (
                <article class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold mb-2">
                        <a href={`/blog/${post.slug}`} class="text-blue-600 hover:text-blue-800">
                            {post.frontmatter.title}
                        </a>
                    </h3>
                    <p class="text-gray-600 mb-4">
                        {post.frontmatter.description}
                    </p>
                    <a 
                        href={`/blog/${post.slug}`} 
                        class="inline-block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                    >
                        Read More
                    </a>
                </article>
            ))}
        </div>
    </section>


</BlogLayout>