---
// JsonLdLocalBusiness.astro - Structured data for LocalBusiness schema
// Now uses centralized config instead of hardcoded values
export interface Props {
    seoConfig: {
        company: {
            name: string;
            description: string;
            telephone: string;
            address: {
                streetAddress: string;
                addressLocality: string;
                addressRegion: string;
                postalCode: string;
                addressCountry: string;
            };
            socialMedia: string[];
            mapUrl: string;
            priceRange: string;
            openingHours: string;
        };
        site: {
            url: string;
        };
        images: {
            favicon: string;
        };
    };
    businessType?: string;
}

const { seoConfig, businessType = 'ProfessionalService' } = Astro.props;

const { company, site, images } = seoConfig;

const schema = {
    '@context': 'https://schema.org',
    '@type': ['LocalBusiness', businessType],
    name: company.name,
    image: images.favicon,
    telephone: company.telephone,
    address: {
        '@type': 'PostalAddress',
        streetAddress: company.address.streetAddress,
        addressLocality: company.address.addressLocality,
        addressRegion: company.address.addressRegion,
        postalCode: company.address.postalCode,
        addressCountry: company.address.addressCountry,
    },
    url: site.url,
    priceRange: company.priceRange,
    openingHours: company.openingHours,
    sameAs: company.socialMedia,
    hasMap: company.mapUrl,
    description: company.description,
};
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />
